"""
Сервис Whois позволяет быстро получить всю информацию о регистрации
домена, например, дату регистрации и возраст домена, или узнать контакты, по
которым можно связаться с организацией или человеком. Часть сведений могут
быть приватными, и поэтому недоступными. Модуль whois поддерживает
большинство доменных имён.
"""
import whois
import re


def who_is():
    add = input('Enter host [site.com]: ')
    while not re.fullmatch(r'[\d\-_.~a-z]+\.[a-z]{2,}', add):
        print('\nPlease enter a host by the pattern [site.com] !!!\n')
        add = input('Enter host [site.com]: ')
    else:
        try:
            domain = whois.query(add)
            res = domain.__dict__
        except Exception as e:
            return f'{add} ERROR --- {e}'
        else:
            results = {}
            for i in res:
                results[i] = res[i]

            return results
