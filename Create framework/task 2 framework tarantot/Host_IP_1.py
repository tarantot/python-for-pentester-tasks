"""
Определение IP сайта
"""
import socket
import dns
import re


def host_IP():
    host = input('Enter host [site.com]: ')
    while not re.fullmatch(r'[\d\-_.~a-z]+\.[a-z]{2,}', host):
        print('\nPlease enter a host by the pattern [site.com] !!!\n')
        host = input('Enter host [site.com]: ')
    else:
        try:
            remote_ip = socket.gethostbyname(host)
        except dns.exception.Timeout:
            return dns.exception.Timeout
        except Exception as e:
            return f'{host} ERROR {e}'
        else:
            return f'\nIP-address of {host} is {remote_ip}.'
