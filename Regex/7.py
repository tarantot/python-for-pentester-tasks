"""
Прочитайте файл surname.txt и все фамилии явно женского рода,
оканчивающиемя на ВА, НА, АЯ запишите в файл woman.txt, а оставшиеся в
другой файл man.txt
Заодно при записи приведите фамилии к виду: Первая буква заглавная, а
остальные строчные. Если в фамилии встречается дефис, то после дефиса
первая буква тоже должна быть заглавной. Пример: Башкатова-Трубникова По
окончанию записи вывести в консоль Done!
"""
import re

with open ('surnames.txt', 'r', encoding='utf-8') as file_surnames, open ('woman.txt', 'w', encoding='utf-8') as file_woman, open ('man.txt', 'w', encoding='utf-8') as file_man:
    for i in file_surnames.readlines():
        i = i.title()
        if re.fullmatch(r'^[А-Я-].*(?:на|ва|ая)', i):
            file_woman.write(i)
        else:
            file_man.write(i)
    print('Done!')