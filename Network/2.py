"""
Напишите программу, которая определит ip-адреса сайтов
https://www.hackthebox.eu/, https://hack.me/, http://www.gameofhacks.com/,
http://www.itsecgames.com/, запишет их в файл, и отправит на локальный ftp-
сервер в папку files.
"""

import re
import socket
from ftplib import FTP

task = 'Напишите программу, которая определит ip-адреса сайтов https://www.hackthebox.eu/, https://hack.me/, http://www.gameofhacks.com/, http://www.itsecgames.com/, запишет их в файл, и отправит на локальный ftp-сервер в папку files.'
hosts = re.findall(r'\w+(?<!w{3})\.[\w\.]+', task)
with open('IP-s.txt', 'w+') as file:
    for host in hosts:
        remote_ip = socket.gethostbyname(host)
        file.write(f'IP Address of www.{host} is {remote_ip}.' + '\n')

ftp = FTP('localhost')
ftp.login('ftp-user', '111')
ftp.cwd('files')
filename = '/my_directory/IP-s.txt'
with open (filename, 'r') as fl:
    ftp.storlines('STOR IP-s.txt', fl)
ftp.quit()