"""
Напишите программу, которая спарсит с http://foxtools.ru/Proxy адреса прокси со
ВСЕХ страниц и выведет их в консоль.
"""
import requests as r
from bs4 import BeautifulSoup as bS

print('-' * 5 + ' Беспалевные айпишнеги ' + '-' * 5 + '\n')
print(f'IP-адреc        : Порт\n')


def task_3(html):
    soup = bS(html.text, 'lxml')
    for i in range(0, len(soup.find('table', id="theProxyList").find_all('input')), 1):
        res = soup.find('table', id="theProxyList").find_all('input')[i]['value'].split(':')
        print(f'{res[0]:<15} : {res[1]:<4}')


if __name__ == '__main__':
    url = 'http://foxtools.ru/Proxy?page='
    j = 1
    while j:
        task_3(r.get(url + str(j)))
        j += 1
        if bS(r.get(url + str(j)).text, 'lxml').findAll("div", {"class": "nodata"}):
            break